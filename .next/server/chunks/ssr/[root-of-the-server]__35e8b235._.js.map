{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/github-chatbot/src/env.js"],"sourcesContent":["import { createEnv } from \"@t3-oss/env-nextjs\";\nimport { z } from \"zod\";\n\nexport const env = createEnv({\n  /**\n   * Specify your server-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars.\n   */\n  server: {\n    DATABASE_URL: z.string().url(),\n    NODE_ENV: z\n      .enum([\"development\", \"test\", \"production\"])\n      .default(\"development\"),\n  },\n\n  /**\n   * Specify your client-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars. To expose them to the client, prefix them with\n   * `NEXT_PUBLIC_`.\n   */\n  client: {\n    // NEXT_PUBLIC_CLIENTVAR: z.string(),\n  },\n\n  /**\n   * You can't destruct `process.env` as a regular object in the Next.js edge runtimes (e.g.\n   * middlewares) or client-side so we need to destruct manually.\n   */\n  runtimeEnv: {\n    DATABASE_URL: process.env.DATABASE_URL,\n    NODE_ENV: process.env.NODE_ENV,\n    // NEXT_PUBLIC_CLIENTVAR: process.env.NEXT_PUBLIC_CLIENTVAR,\n  },\n  /**\n   * Run `build` or `dev` with `SKIP_ENV_VALIDATION` to skip env validation. This is especially\n   * useful for Docker builds.\n   */\n  skipValidation: !!process.env.SKIP_ENV_VALIDATION,\n  /**\n   * Makes it so that empty strings are treated as undefined. `SOME_VAR: z.string()` and\n   * `SOME_VAR=''` will throw an error.\n   */\n  emptyStringAsUndefined: true,\n});\n\n\n/*\n\n@t3-oss/env-nextjs: A wrapper utility from the T3 stack that helps validate environment variables in both server and client contexts.\n\nzod: A schema validation library used here to define what each environment variable should look like.\n\n*/"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;IAC3B;;;GAGC,GACD,QAAQ;QACN,cAAc,6KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;QAC5B,UAAU,6KAAA,CAAA,IAAC,CACR,IAAI,CAAC;YAAC;YAAe;YAAQ;SAAa,EAC1C,OAAO,CAAC;IACb;IAEA;;;;GAIC,GACD,QAAQ;IAER;IAEA;;;GAGC,GACD,YAAY;QACV,cAAc,QAAQ,GAAG,CAAC,YAAY;QACtC,QAAQ;IAEV;IACA;;;GAGC,GACD,gBAAgB,CAAC,CAAC,QAAQ,GAAG,CAAC,mBAAmB;IACjD;;;GAGC,GACD,wBAAwB;AAC1B,IAGA;;;;;;AAMA","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/github-chatbot/src/server/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nimport { env } from \"@/env\";\n\nconst createPrismaClient = () =>\n  new PrismaClient({\n    log:\n      env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"],\n  });\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: ReturnType<typeof createPrismaClient> | undefined;\n};\n\nexport const db = globalForPrisma.prisma ?? createPrismaClient();\n\nif (env.NODE_ENV !== \"production\") globalForPrisma.prisma = db;\n"],"names":[],"mappings":";;;AAAA;AAEA;;;AAEA,MAAM,qBAAqB,IACzB,IAAI,6HAAA,CAAA,eAAY,CAAC;QACf,KACE,0GAAA,CAAA,MAAG,CAAC,QAAQ,KAAK,gBAAgB;YAAC;YAAS;YAAS;SAAO,GAAG;YAAC;SAAQ;IAC3E;AAEF,MAAM,kBAAkB;AAIjB,MAAM,KAAK,gBAAgB,MAAM,IAAI;AAE5C,IAAI,0GAAA,CAAA,MAAG,CAAC,QAAQ,KAAK,cAAc,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/github-chatbot/src/app/%28protected%29/join/%5BprojectId%5D/page.tsx"],"sourcesContent":["import { db } from '@/server/db'\r\nimport { auth, clerkClient } from '@clerk/nextjs/server'\r\nimport { redirect } from 'next/navigation' // âœ… Right\r\nimport React from 'react'\r\n\r\ntype Props = {\r\n    params: Promise<{ProjectId: string}>\r\n}\r\n\r\nconst JoinHandler = async (props: Props) => {\r\n\r\n    const {projectId} = await props.params\r\n\r\n    const {userId} = await auth()\r\n    if (!userId) return redirect(\"/sign-in\")\r\n    const dbUser = await db.user.findUnique({\r\n        where: {\r\n            id: userId\r\n        }\r\n    })\r\n    const client = await clerkClient()\r\n    const user = await client.users.getUser(userId)\r\n\r\n    if(!dbUser) {\r\n        await db.user.create({\r\n            data: {\r\n                id: userId,\r\n                emailAddress: user.emailAddresses[0]?.emailAddress,\r\n                imageUrl: user.imageUrl,\r\n                firstName: user.firstName,\r\n                lastName: user.lastName\r\n            }\r\n        })\r\n    }\r\n    const project = await db.project.findUnique({\r\n        where: {\r\n            id: projectId\r\n        }\r\n    })\r\n    if(!project) return redirect(\"/dashboard\")\r\n    try{\r\n        await db.userToProject.create({\r\n            data: {\r\n                userId,\r\n                projectId\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log('User already in project')\r\n    }\r\n    return redirect(`/dashboard`)\r\n\r\n\r\n}\r\nexport default JoinHandler\r\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AACA,8UAA2C,UAAU;AAArD;;;;AAOA,MAAM,cAAc,OAAO;IAEvB,MAAM,EAAC,SAAS,EAAC,GAAG,MAAM,MAAM,MAAM;IAEtC,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAC1B,IAAI,CAAC,QAAQ,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAC7B,MAAM,SAAS,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YACH,IAAI;QACR;IACJ;IACA,MAAM,SAAS,MAAM,CAAA,GAAA,yKAAA,CAAA,cAAW,AAAD;IAC/B,MAAM,OAAO,MAAM,OAAO,KAAK,CAAC,OAAO,CAAC;IAExC,IAAG,CAAC,QAAQ;QACR,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;YACjB,MAAM;gBACF,IAAI;gBACJ,cAAc,KAAK,cAAc,CAAC,EAAE,EAAE;gBACtC,UAAU,KAAK,QAAQ;gBACvB,WAAW,KAAK,SAAS;gBACzB,UAAU,KAAK,QAAQ;YAC3B;QACJ;IACJ;IACA,MAAM,UAAU,MAAM,mHAAA,CAAA,KAAE,CAAC,OAAO,CAAC,UAAU,CAAC;QACxC,OAAO;YACH,IAAI;QACR;IACJ;IACA,IAAG,CAAC,SAAS,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAC7B,IAAG;QACC,MAAM,mHAAA,CAAA,KAAE,CAAC,aAAa,CAAC,MAAM,CAAC;YAC1B,MAAM;gBACF;gBACA;YACJ;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC;IAChB;IACA,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,UAAU,CAAC;AAGhC;uCACe","debugId":null}}]
}